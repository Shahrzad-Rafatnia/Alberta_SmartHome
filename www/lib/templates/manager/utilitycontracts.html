{% extends 'manager/base.html' %}

{% block title 'Utility Contracts' %}

{% block extraStyles %}
<link rel="stylesheet" href="/css/vendor/jquery-ui/jquery-ui.min.css" />
<link rel="stylesheet" href="/css/vendor/jdpicker/jdpicker.css" />
{% endblock extraStyles %}

{% block extraScripts %}
<script src="/js/vendor/jquery.jdpicker.js"></script>
<script src="/js/vendor/jquery.scrollTo-min.js"></script>
<script src="/js/utilityConfig.js"></script>
{% endblock extraScripts %}

{% block content %}
<div class="configs">

    <!-- Utility Config -->
    <div class="config">
        <div class="config-display utilities">
            <p class="title">Utility Contracts</p>
            <table>
                <tr class="header">
                    <th class="type">Type</th>
                    <th class="price">Price</th>
                    <th class="startdate">Start Date</th>
                    <th class="enddate">End Date</th>
                    <th colspan="2"></th>
                </tr>

                {% for utility in utilitiesData['utilities'] %}
                <tr id="utility_{{ utility['id'] }}" class="body">
                    <td class="type">{{ utility['type'] }}</td>
                    <td class="price">{{ utility['price'] }}</td>
                    <td class="startdate">{{ utility['startdate'] }}</td>
                    <td class="enddate">{{ utility['enddate'] }}</td>
                    <td><button onClick="editUtility(this)">Edit</button></td>
                    <td><button onClick="deleteUtility(this)">Delete</button></td>
                </tr>
                {% endfor %}
            </table>
        </div>

        <div class="config-editor">
            <form id="utility-editor" onsubmit="return submitUtility()">
                <fieldset>
                    <legend>Utility Prices Editor</legend>

                    <div>
                    <select name="type">
                        <option value="electricity">Electricity</option>
                        <option value="water">Water</option>
                    </select>
                    </div>

                    <label for="price">Price (per KWH for electricity, per gallon for water)</label><br>
                    <input name="price" type="text" /><br>

                    <label for="startdate">Start Date</label><br>
                    <input name="startdate" type="text" /><br>

                    <label for="enddate">End Date</label><br>
                    <input name="enddate" type="text" /><br>

                    <div class="footer">
                        <button class="button" type="button" tabindex="-1" onclick='resetEditor(this)'>Cancel</button>
                        <input class="button" name="submit" type="submit" value="Submit"/>
                    </div>

                    <input class="id" name="id" value="-1" />
                </fieldset>
            </form>
        </div>
    </div> <!-- Utility Config -->
</div> <!-- Configs -->


{% endblock content %}
